(window["webpackJsonpsocial-ping"]=window["webpackJsonpsocial-ping"]||[]).push([[0],{50:function(n,e,t){n.exports=t(88)},61:function(n,e,t){},85:function(n,e){},88:function(n,e,t){"use strict";t.r(e);var i=t(0),o=t.n(i),a=t(44),r=t.n(a),c=t(9),u=t(7),l=t(8),s=t(17),f=t(91),d=t(92),m=t(90),g=t(3),p=function(n){var e=n.socketConnection,t=Object(i.useState)([]),a=Object(c.a)(t,2),r=a[0],u=a[1];Object(i.useEffect)(function(){return e.on("msg",function(n){u(function(e){return e.concat([{uuid:s.v4(),position:{lat:Number(n.lat),long:Number(n.long)}}])})},[]),function(){return e.close()}},[]);return o.a.createElement(f.a,Object.assign({center:[42.09,12.13],zoom:6},{zoomControl:!1,dragging:!1,scrollWheelZoom:!1,doubleClickZoom:!1}),o.a.createElement(d.a,{attribution:'&copy <a href="http://osm.org/copyright">BaseMaps</a> contributors',url:"http://a.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}.png"}),r.map(function(n){return o.a.createElement(m.a,{key:n.uuid,position:[n.position.lat,n.position.long],icon:new g.DivIcon({className:"animated-icon"}),onAdd:function(){return setTimeout(function(){u(function(e){return e.filter(function(e){return e.uuid!==n.uuid})})},4e3)}})}))};function b(){var n=Object(u.a)(["\n  height: 25%;\n  width: 100%;\n  border-radius: 5px;\n  resize: none;\n"]);return b=function(){return n},n}function h(){var n=Object(u.a)(['\n  margin-top: 8px;\n  border-radius: 5px;\n  padding: 10px;\n  font-family: "Montserrat", sans-serif;\n  font-size: 16px;\n  font-weight: 600;\n  background-color: #eaf2ff;\n']);return h=function(){return n},n}function x(){var n=Object(u.a)(['\n  max-width: 750px;\n  overflow: hidden;\n  padding: 10px 10px;\n  margin-top: 25px;\n  font-family: "Cousin", monospace;\n  text-align: center;\n  min-height: 450px;\n']);return x=function(){return n},n}function v(){var n=Object(u.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex-grow: 2;\n"]);return v=function(){return n},n}var y=l.a.div(v()),E=l.a.div(x()),j=l.a.button(h()),O=l.a.textarea(b()),w=function(){for(var n="#",e=0;e<6;e++)n+="0123456789ABCDEF"[Math.floor(16*Math.random())];return n},k=function(n){var e=n.socketConnection,t=n.handleTextChange,a=n.text,r=n.onSend,u=Object(i.useState)([]),l=Object(c.a)(u,2),s=l[0],f=l[1];return Object(i.useEffect)(function(){return e.on("msg",function(n){15===s.length?f(function(e){return e.slice(1).concat([{id:n.message.id,text:n.message.text,color:w()}])}):f(function(e){return e.concat([{id:n.message.id,text:n.message.text,color:w()}])})}),function(){return e.close()}},[]),o.a.createElement(y,null,o.a.createElement(E,null,s.map(function(n){return o.a.createElement("p",{key:n.id,style:{color:n.color}},n.text)})),o.a.createElement("div",{style:{marginTop:"50px"}},o.a.createElement("h2",null,"Say something to your friends!"),o.a.createElement(O,{onChange:t,value:a,maxLength:150}),o.a.createElement(j,{onClick:r},"Send message")))};function C(){var n=Object(u.a)(["\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n  background: #242426;\n  position: absolute;\n  z-index: 9999;\n  top: 0;\n  left: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  visibility: ",";\n  opacity: ",";\n  transition: visibility 0s 1s, opacity 1s linear;\n  @media (max-width: 768px) {\n    opacity: 1;\n    visibility: visible;\n  }\n"]);return C=function(){return n},n}var S=l.a.div(C(),function(n){return n.isVisible?"visible":"hidden"},function(n){return n.isVisible?.8:0}),z=function(n){return o.a.createElement(S,{isVisible:n.isVisible},o.a.createElement("div",null,o.a.createElement("h2",null,n.text)))};function M(){var n=Object(u.a)(["\n  display: flex;\n  height: 100%;\n"]);return M=function(){return n},n}var V=l.a.div(M()),T=function(n){var e=n.socketConnection,t=Object(i.useState)(""),a=Object(c.a)(t,2),r=a[0],u=a[1],l=Object(i.useState)(null),f=Object(c.a)(l,2),d=f[0],m=f[1];Object(i.useEffect)(function(){navigator.geolocation.getCurrentPosition(function(n){m(n)})},[]);return o.a.createElement("div",{style:{height:"100%"}},o.a.createElement(z,{isVisible:!d,text:"Obtaining your position..."}),o.a.createElement(z,{mobile:!0,text:"Mobile version not available :("}),o.a.createElement(V,null,o.a.createElement(p,{socketConnection:e}),o.a.createElement(k,{socketConnection:e,text:r,handleTextChange:function(n){u(n.target.value)},onSend:function(){d&&e.emit("new_msg",{lat:d.coords.latitude,long:d.coords.longitude,message:{text:r,id:s.v4()}}),u("")}})))},B=(t(61),t(62)("https://social-ping-server.now.sh"));r.a.render(o.a.createElement(T,{socketConnection:B}),document.getElementById("root"))}},[[50,1,2]]]);
//# sourceMappingURL=main.ea186bef.chunk.js.map